<html lang="en" class="fontawesome-i2svg-active fontawesome-i2svg-complete"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <style type="text/css">svg:not(:root).svg-inline--fa{overflow:visible}.svg-inline--fa{display:inline-block;font-size:inherit;height:1em;overflow:visible;vertical-align:-.125em}.svg-inline--fa.fa-lg{vertical-align:-.225em}.svg-inline--fa.fa-w-1{width:.0625em}.svg-inline--fa.fa-w-2{width:.125em}.svg-inline--fa.fa-w-3{width:.1875em}.svg-inline--fa.fa-w-4{width:.25em}.svg-inline--fa.fa-w-5{width:.3125em}.svg-inline--fa.fa-w-6{width:.375em}.svg-inline--fa.fa-w-7{width:.4375em}.svg-inline--fa.fa-w-8{width:.5em}.svg-inline--fa.fa-w-9{width:.5625em}.svg-inline--fa.fa-w-10{width:.625em}.svg-inline--fa.fa-w-11{width:.6875em}.svg-inline--fa.fa-w-12{width:.75em}.svg-inline--fa.fa-w-13{width:.8125em}.svg-inline--fa.fa-w-14{width:.875em}.svg-inline--fa.fa-w-15{width:.9375em}.svg-inline--fa.fa-w-16{width:1em}.svg-inline--fa.fa-w-17{width:1.0625em}.svg-inline--fa.fa-w-18{width:1.125em}.svg-inline--fa.fa-w-19{width:1.1875em}.svg-inline--fa.fa-w-20{width:1.25em}.svg-inline--fa.fa-pull-left{margin-right:.3em;width:auto}.svg-inline--fa.fa-pull-right{margin-left:.3em;width:auto}.svg-inline--fa.fa-border{height:1.5em}.svg-inline--fa.fa-li{width:2em}.svg-inline--fa.fa-fw{width:1.25em}.fa-layers svg.svg-inline--fa{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.fa-layers{display:inline-block;height:1em;position:relative;text-align:center;vertical-align:-.125em;width:1em}.fa-layers svg.svg-inline--fa{-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter,.fa-layers-text{display:inline-block;position:absolute;text-align:center}.fa-layers-text{left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-transform-origin:center center;transform-origin:center center}.fa-layers-counter{background-color:#ff253a;border-radius:1em;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;height:1.5em;line-height:1;max-width:5em;min-width:1.5em;overflow:hidden;padding:.25em;right:0;text-overflow:ellipsis;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-bottom-right{bottom:0;right:0;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom right;transform-origin:bottom right}.fa-layers-bottom-left{bottom:0;left:0;right:auto;top:auto;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:bottom left;transform-origin:bottom left}.fa-layers-top-right{right:0;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top right;transform-origin:top right}.fa-layers-top-left{left:0;right:auto;top:0;-webkit-transform:scale(.25);transform:scale(.25);-webkit-transform-origin:top left;transform-origin:top left}.fa-lg{font-size:1.33333em;line-height:.75em;vertical-align:-.0667em}.fa-xs{font-size:.75em}.fa-sm{font-size:.875em}.fa-1x{font-size:1em}.fa-2x{font-size:2em}.fa-3x{font-size:3em}.fa-4x{font-size:4em}.fa-5x{font-size:5em}.fa-6x{font-size:6em}.fa-7x{font-size:7em}.fa-8x{font-size:8em}.fa-9x{font-size:9em}.fa-10x{font-size:10em}.fa-fw{text-align:center;width:1.25em}.fa-ul{list-style-type:none;margin-left:2.5em;padding-left:0}.fa-ul>li{position:relative}.fa-li{left:-2em;position:absolute;text-align:center;width:2em;line-height:inherit}.fa-border{border:solid .08em #eee;border-radius:.1em;padding:.2em .25em .15em}.fa-pull-left{float:left}.fa-pull-right{float:right}.fa.fa-pull-left,.fab.fa-pull-left,.fal.fa-pull-left,.far.fa-pull-left,.fas.fa-pull-left{margin-right:.3em}.fa.fa-pull-right,.fab.fa-pull-right,.fal.fa-pull-right,.far.fa-pull-right,.fas.fa-pull-right{margin-left:.3em}.fa-spin{-webkit-animation:fa-spin 2s infinite linear;animation:fa-spin 2s infinite linear}.fa-pulse{-webkit-animation:fa-spin 1s infinite steps(8);animation:fa-spin 1s infinite steps(8)}@-webkit-keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes fa-spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.fa-rotate-90{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.fa-rotate-180{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.fa-rotate-270{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.fa-flip-horizontal{-webkit-transform:scale(-1,1);transform:scale(-1,1)}.fa-flip-vertical{-webkit-transform:scale(1,-1);transform:scale(1,-1)}.fa-flip-horizontal.fa-flip-vertical{-webkit-transform:scale(-1,-1);transform:scale(-1,-1)}:root .fa-flip-horizontal,:root .fa-flip-vertical,:root .fa-rotate-180,:root .fa-rotate-270,:root .fa-rotate-90{-webkit-filter:none;filter:none}.fa-stack{display:inline-block;height:2em;position:relative;width:2em}.fa-stack-1x,.fa-stack-2x{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0}.svg-inline--fa.fa-stack-1x{height:1em;width:1em}.svg-inline--fa.fa-stack-2x{height:2em;width:2em}.fa-inverse{color:#fff}.sr-only{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sr-only-focusable:active,.sr-only-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}</style>

    <title>Status</title>

    <link rel="stylesheet" type="text/css" href="css/bootstrapv4.min.css">
    <link rel="stylesheet" type="text/css" href="css/cnty.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
</head>

<body class="light-blue lighten-1" >
  <div class="container halamanlogin">
    <div class="row wrapper animated flipInY">
<!-- CAROUSEL PART -->
      <div class="col-sm-8">
        <div class="row">
          <div id="carousel slide" class="carousel slide" data-ride="carousel" data-interval="3200">
            <div class="carousel-inner">
      <!-- ADD multiple image here for the carousel -->
              <div class="carousel-item active">
                <img src="img/logo1.jpg" class="img-fluid">
              </div>
              <div class="carousel-item">
                <img src="img/logo2.jpg" class="img-fluid">
              </div>
      <!-- END OF image for the carousel -->
            </div>
<!--
            <marquee class="running-text text-info" direction="left" scrollamount="4" onmouseover="this.stop()" onmouseout="this.start() ">
              <p style="font-size:12px;font-weight:bold" id="scrollingText">Merry Christmas</p>
            </marquee>
-->

          </div>
        </div>
      </div>
<!-- CAROUSEL END -->



      <div class="col-sm-4">
        <div class="login">
          <center>
            <i style="font-size:12px;text-transform:uppercase">Welcome! <b><svg class="svg-inline--fa fa-user fa-w-14" aria-hidden="true" data-prefix="fa" data-icon="user" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"></path></svg>&nbsp;<i id="vouchercode"></i></b></i>
            <br>
            <small id="border" style="color:#555;font-size:12px;"><svg class="svg-inline--fa fa-wifi fa-w-20" aria-hidden="true" data-prefix="fa" data-icon="wifi" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg=""><path fill="currentColor" d="M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"></path></svg>&nbsp;&nbsp;IP: <b id="ipaddress">$(ip)</b></small>
            <div style="margin-bottom:5px"></div>
            <small style="color:#555;font-size:12px;"><svg class="svg-inline--fa fa-address-book fa-w-14" aria-hidden="true" data-prefix="fa" data-icon="address-book" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z"></path></svg>&nbsp;MAC: <b id="macaddress">$(mac)</b>&nbsp;&nbsp;</small>
            <div style="margin-top:5px;margin-bottom:-10px"></div>
            <div style="margin-top:-10px;margin-bottom:-5px"></div>
                     <div style="margin-top:5px;margin-bottom:-10px"></div>
            <br>
            <small id="border3" style="text-transform:uppercase;color:white;font-size:12px;">&nbsp;<svg class="svg-inline--fa fa-wifi fa-w-20" aria-hidden="true" data-prefix="fa" data-icon="wifi" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" data-fa-i2svg=""><path fill="currentColor" d="M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"></path></svg>&nbsp;<b id="wifiname">Connected</b>&nbsp;&nbsp;</small>

            <div style="margin-bottom:-5px"></div>
            <br>
            <h6><svg class="svg-inline--fa fa-clock fa-w-16" aria-hidden="true" data-prefix="fa" data-icon="clock" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm57.1 350.1L224.9 294c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v137.7l63.5 46.2c5.4 3.9 6.5 11.4 2.6 16.8l-28.2 38.8c-3.9 5.3-11.4 6.5-16.8 2.6z"></path></svg></h6>
            <div id="displayTimeStatus"></div>
              <div style="color:rgb(0, 190, 248);font-size:20px;"></div>
            <br>
            <div id="validity" style="color:rgb(0, 190, 248);font-size:20px;"></div>
		    <br>
        <table>
          <tbody>
            <tr>
              <td><svg class="svg-inline--fa fa-download fa-w-16" aria-hidden="true" data-prefix="fa" data-icon="download" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"></path></svg>&nbsp;
                <b id="download">$(bytes-in-nice)</b>&nbsp;<b>|</b>&nbsp;<svg class="svg-inline--fa fa-upload fa-w-16" aria-hidden="true" data-prefix="fa" data-icon="upload" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"></path></svg>&nbsp;<b id="upload">$(bytes-out-nice)</b>
              </td>
            </tr>
          </tbody>
        </table>

          </center>


<!-- BUTTONS -->


        
          <div style="margin-bottom:5px"></div>
          <button data-target="#wifirate" data-toggle="modal" data-backdrop="static" data-keyboard="false" id="insertbuttonpopup2" class="multi_insert_coin_button btn btn-success btn-block"><svg class="svg-inline--fa fa-money-check-alt fa-w-16" aria-hidden="true" data-prefix="fa" data-icon="money-check-alt" role="img" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M608 32H32C14.33 32 0 46.33 0 64v384c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM176 327.88V344c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-16.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V152c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07zM416 312c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h112c4.42 0 8 3.58 8 8v16zm160 0c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-96c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h272c4.42 0 8 3.58 8 8v16z"/></svg>&nbsp;&nbsp;VIEW RATES</button>
          <div style="margin-bottom:5px"></div>

       
          <input id="voucher_user" class="form-control" name="username" type="text" placeholder="Voucher" onChange="update_voucher(this.value)" value=""/>
          <button id="checkButton"  class="btn btn-info btn-block"><i class="fa fa-paper-plane"></i>&nbsp;Check Voucher</button>


      

          <br>
<!-- END OF BUTTONS -->

      
          <hr>

          <center>
            <p style="font-size:12px;font-weight:bold" class="info bt" id="footerText">Powered by
            <a href="https://www.youtube.com/channel/UCFiLQV0DbVduLlB2BImXe2g">Arclem™</a><br> Wifi Vendo Solutions®</p>
            <p style="font-size:10px;" class="info bt" id="version">v4.3.2</p>
            <br>
          </center>

<!-- MODAL PART -->

  <div id="wifirate" class="modal fade bd-example-modal-sm" role="dialog">
      <div class="modal-dialog modal-dialog-centered modal-lg">
      <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-body">
            <div class="col-xs-7 align-middle p-lg">
              <h5 class="modal-title" align="center"><b>WIFI RATES </b></h5>
              <hr class="prettyline">
              <div class="panel-body" align="center">
                <table class="rates table table-striped table-bordered table-sm" align='center'>
                  <tr><td>Amount</td><td>Time</td><td>Validity</td></tr><tr>
            <td>1.00</td>
            <td>12 minutes</td>
            <td>1d</td>
        </tr><tr>
            <td>5.00</td>
            <td>1 hour</td>
            <td>5d</td>
        </tr><tr>
            <td>10.00</td>
            <td>3 hours</td>
            <td>30d</td>
        </tr><tr>
            <td>20.00</td>
            <td>5 hours</td>
            <td>1d</td>
        </tr><tr>
            <td>50.00</td>
            <td>10 hours</td>
            <td>1d</td>
        </tr><tr>
            <td>100.00</td>
            <td>2 days</td>
            <td>1d</td>
        </tr><tr>
            <td>500.00</td>
            <td>1 month</td>
            <td>1d</td>
        </tr>
                </table>
                <hr class="prettyline">
                <button type="button" class="cancel_button btn btn-danger" id="insert_cancel"  data-dismiss="modal">Cancel</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


<!-- MODAL PART END -->
<script src="js/jquery.js"> </script>
<script src="js/bootstrapv4.min.js"> </script>

<script>
  var timerS
  var mac = "None";
  var uname = "None";
  var sessiontime = "";
  var uptime = "";
  var validity ="";
  var voucher = "";

  var site = getQueryStringKey("site") || "default" ;
  console.log("site >>>> " + site);

  var siteMap = {
    "default" : "5570cb3c-5011-4fb1-abec-08b7e76aa310",
    "home" : "5570cb3c-5011-4fb1-abec-08b7e76aa310",
    "maharlika" : "a4e86d5e-bc21-4ceb-9300-4d1557593d05",
    "aduas" : "ec18639a-42fb-4158-b51c-a34fb2d54252",
    "test" : "aef7cc5e-533c-435e-ac32-fa6f8e6f73a8"
  }

function getQueryStringKey (key) {
    return getQueryStringAsObject()[key];
}
function getQueryStringAsObject () {
    var b, cv, e, k, ma, sk, v, r = {},
        d = function (v) { return decodeURIComponent(v); }, //# d(ecode) the v(alue)
        q = window.location.search.substring(1), //# suggested: q = decodeURIComponent(window.location.search.substring(1)),
        s = /([^&;=]+)=?([^&;]*)/g //# original regex that does not allow for ; as a delimiter:   /([^&=]+)=?([^&]*)/g
    ;
    ma = function(v) {
        if (typeof v != "object") {
            cv = v;
            v = {};
            v.length = 0;
            if (cv) { Array.prototype.push.call(v, cv); }
        }
        return v;
    };
    while (e = s.exec(q)) {
        b = e[1].indexOf("[");
        v = d(e[2]);
        if (b < 0) {
            k = d(e[1]);
            if (r[k]) {
                r[k] = ma(r[k]);
                Array.prototype.push.call(r[k], v);
            }
            else {
                r[k] = v;
            }
        }
        else {
            k = d(e[1].slice(0, b));
            sk = d(e[1].slice(b + 1, e[1].indexOf("]", b)));
            r[k] = ma(r[k]);
            if (sk) { r[k][sk] = v; }
            else { Array.prototype.push.call(r[k], v); }
        }
    }
    return r;
}


function update_voucher(_voucher) {
  voucher = _voucher;
}

function timeConverter(UNIX_timestamp){
  var a = new Date(UNIX_timestamp);
  var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  var year = a.getFullYear();
  var month = months[a.getMonth()];
  var date = a.getDate();
  var hour = a.getHours();
  var min = a.getMinutes();
  var sec = a.getSeconds();
  var time = month + ' ' + date + ', ' + year + ' ' + hour + ':' + min + ':' + sec ;
  return time;
}

function formatBytes(bytes, decimals = 2) {
    if (!+bytes) return '0 Bytes'

    const k = 1024
    const dm = decimals < 0 ? 0 : decimals
    const sizes = ['Bytes', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']

    const i = Math.floor(Math.log(bytes) / Math.log(k))

    return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`
}

function checkVoucher() {
  const data = JSON.stringify({
    voucher: voucher,
    account: siteMap[site]
  });
  console.log("data to send to rapidapi" + data);

  const xhr = new XMLHttpRequest();
  xhr.withCredentials = true;
// 2521637
  xhr.addEventListener('readystatechange', function () {
    runtimer("");
    if (this.readyState === this.DONE) {
      var voucherdata = JSON.parse(this.responseText);


      console.log(this.responseText);
      
      console.log(voucherdata);
      sessiontime = voucherdata.remainingTime;
      console.log("sessiontime " + sessiontime);
      document.getElementById("ipaddress").innerHTML = voucherdata.ip;
      document.getElementById("vouchercode").innerHTML = voucherdata.voucherCode;
      document.getElementById("macaddress").innerHTML = voucherdata.mac;
      document.getElementById("download").innerHTML = formatBytes(voucherdata.download);
      document.getElementById("upload").innerHTML = formatBytes(voucherdata.upload);
      document.getElementById("wifiname").innerHTML = "Connected to " + voucherdata.ssid;
      if (voucherdata.valid == false) {
        document.getElementById("validity").innerHTML = "Voucher Expired";
      } else {
	document.getElementById("validity").innerHTML = "";
        sessiontime = voucherdata.remainingTime;
        runtimer(sessiontime);
      }

      if (voucherdata.status == "error") {
        document.getElementById("validity").innerHTML = voucherdata.msg ;

      } 

    
    } else {
      var voucherdata = JSON.parse(this.responseText);

      if (voucherdata.message == "You have exceeded the DAILY quota for Requests on your current plan, BASIC. Upgrade your plan at https://rapidapi.com/mcandres888-0d-S2XDAipF/api/omadavoucherapi") {
		    document.getElementById("validity").innerHTML  = "Daily quota reached. Please ask your administrator.";		
	    }
    }
  });

  xhr.open('POST', 'https://omadavoucherapi.p.rapidapi.com/');
  xhr.setRequestHeader('content-type', 'application/json');
  xhr.setRequestHeader('X-RapidAPI-Key', 'ecb7b4b72dmsh9e61412d22ba5a2p1b5263jsn233d913db289');
  xhr.setRequestHeader('X-RapidAPI-Host', 'omadavoucherapi.p.rapidapi.com');

  xhr.send(data);
}

var timerInterval = null; 

function runtimer(remainingseconds) {
  timerS = remainingseconds;
  if (timerInterval != null) {
    clearInterval(timerInterval);
  }
  timerInterval = setInterval(function() {
      timerS = timerS - 1;
      var daysS = Math.floor (timerS/(3600*24));
      var hoursS = Math.floor (timerS/3600)%24;
      var minutesS = Math.floor (timerS/60)%60;
      var secondsS = Math.floor (timerS)%60;
         
      if(timerS >= 86400){
        var resS = "<div id='clockdiv'><div><span style='font-size:24px;'>"+daysS+"</span><div class='smalltext'>DAYS</div></div>&nbsp;<div><span style='font-size:24px;'>"+hoursS+"</span><div class='smalltext'>HOURS</div></div>&nbsp;<div><span style='font-size:24px;'>"+minutesS+"</span><div class='smalltext'>MINS</div></div>&nbsp;<div><span style='font-size:24px;'>"+secondsS+"</span><div class='smalltext'>SECS</div></div></div>";
      } else if (timerS >= 3600 && timerS <= 86400){
        var resS = "<div id='clockdiv'><div><span style='font-size:24px;'>"+hoursS+"</span><div class='smalltext'>HOURS</div></div>&nbsp;<div><span style='font-size:24px;'>"+minutesS+"</span><div class='smalltext'>MINS</div></div>&nbsp;<div><span style='font-size:24px;'>"+secondsS+"</span><div class='smalltext'>SECS</div></div></div>";
      } else if (timerS >= 10 && timerS <= 3600){
        var resS = "<div id='clockdiv'><div><span style='font-size:24px;'>"+minutesS+"</span><div class='smalltext'>MINS</div></div>&nbsp;<div><span style='font-size:24px;'>"+secondsS+"</span><div class='smalltext'>SECS</div></div></div>";
      } else if (timerS >= 1 && timerS <= 9) {
        var resS = "<div id='clockdiv'><div><span style='font-size:24px;'>"+secondsS+"</span><div class='smalltext'>SECS</div></div></div>";
      } else if (timerS == 0) {
        var resS = "<div id='clockdiv'><div><span style='font-size:24px;'>"+secondsS+"</span><div class='smalltext'>SECS</div></div></div>";
        window.location = "/login";
      } else {
        var resS = "--";
      }
          
     document.getElementById("displayTimeStatus").innerHTML = resS;
    },1000);

}

  var onready = function () {

    var element1 = document.getElementById("checkButton");

    if (element1.addEventListener) {  // all browsers except IE before version 9
        element1.addEventListener("click", checkVoucher, false);
    } else {
        if (element1.attachEvent) {   // IE before version 9
         element1.attachEvent("click", checkVoucher);
        }
    } 
  };

  onready();

</script>

<script>
  
 
  
</script>
</body></html>
